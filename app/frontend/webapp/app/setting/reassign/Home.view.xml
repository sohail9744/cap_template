<mvc:View
	controllerName="wisys.frontend.app.setting.reassign.Home"
	xmlns:mvc="sap.ui.core.mvc"
	displayBlock="true"
	xmlns="sap.m"
>
	<Page showHeader="false">
		<content>
			<MessageStrip
				text="Click on the request in the table to see the more details of your request!"
				showIcon="true"
				class="sapUiTinyMargin"
				showCloseButton="true"
			/>
			<Table
				id="idTable"
				items="{
					path: 'myRequest>/',
					sorter: {
						path: 'createdAt',
						descending: true
					}
				}"
				mode="MultiSelect"
				selectionChange="onTableSelectionChange"
			>
				<headerToolbar>
					<Toolbar>
						<ToolbarSpacer />
						<SearchField
							liveChange="onSearch"
							width="15%"
						/>
						<Input
							width="15%"
							editable="false"
							value="{dataModel>/empName}"
						/>
						<Input
							maxLength="5"
							width="15%"
							placeholder="Enter Employee ID"
							value="{dataModel>/empId}"
							liveChange="onChangeInput"
							valueStateText="{dataModel>/empIdValueStateText}"
							valueState="{dataModel>/empIdValueState}"
						/>
						<Button
							text="Reassign"
							press="onReassignPress"
							type="Accept"
							ariaHasPopup="Dialog"
						/>
					</Toolbar>
				</headerToolbar>
				<columns>
					<Column
						minScreenWidth="Tablet"
						demandPopin="true"
					>
						<Text text="Request id" />
					</Column>
					<Column
						minScreenWidth="Tablet"
						demandPopin="true"
					>
						<Text text="Request Date" />
					</Column>
					<Column
						minScreenWidth="Tablet"
						demandPopin="true"
					>
						<Text text="Site" />
					</Column>
					<Column
						minScreenWidth="Tablet"
						demandPopin="true"
					>
						<Text text="Month/Year" />
					</Column>
					<Column
						minScreenWidth="Tablet"
						demandPopin="true"
					>
						<Text text="Supplier Code" />
					</Column>
					<Column
						minScreenWidth="Tablet"
						demandPopin="true"
					>
						<Text text="Supplier Name" />
					</Column>
					<Column
						minScreenWidth="Tablet"
						demandPopin="true"
					>
						<Text text="Status" />
					</Column>
				</columns>
				<items>
					<ColumnListItem
						navigated="true"
						type="Navigation"
						vAlign="Middle"
						press="onTaskRowSelect"
					>
						<cells>
							<Text text="{myRequest>referenceId}" />
							<Text text="{
								path: 'myRequest>createdAt',
								formatter: '.f.dateFormat'
							}" />
							<Text text="{myRequest>site/SiteName} {myRequest>site/SiteId}" />
							<Text text="{myRequest>month}-{myRequest>year}" />
							<Text text="{myRequest>supplierCode}" />
							<Text text="{myRequest>supplierName}" />
							<ObjectStatus
								text="{myRequest>statusDisplay}"
								state="{
									path: 'myRequest>statusDisplay',
									formatter: '.f.statusFormat'
								}"
								icon="{
									path: 'myRequest>statusDisplay',
									formatter: '.f.iconFormat'
								}"
								inverted="true"
							/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</content>
	</Page>
</mvc:View>