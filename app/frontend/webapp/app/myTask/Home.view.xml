<mvc:View
    xmlns:form="sap.ui.layout.form"
    controllerName="wisys.frontend.app.myTask.Home"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    displayBlock="true"
    height="100%"
    busyIndicatorDelay="0"
    xmlns:core="sap.ui.core"
    xmlns:table="sap.ui.table"
    xmlns:fcl="sap.f"
>
    <Page showHeader="false">
        <content>
            <fcl:FlexibleColumnLayout
                id="FlexibleColumnLayout"
                layout="TwoColumnsMidExpanded"
            >
                <!-- Master Page -->
                <fcl:beginColumnPages>
                    <Page
                        id="master"
                        title="My Task"
                        backgroundDesign="List"
                    >
                        <headerContent>
                            <Button
                                icon="sap-icon://synchronize"
                                press="_onSrvCall"
                                tooltip="Refresh"
                            />
                        </headerContent>
                        <List items="{
                            path: 'reqModel>/',
                            sorter: {
                                path: 'createdAt',
                                descending: true
                            }
                        }">
                            <items>
                                <ObjectListItem
                                    title="{reqModel>statusDisplay}"
                                    intro="Requested Line Manager: {reqModel>requesterId}"
                                    type="Active"
                                    press="onItemPress"
                                >
                                    <firstStatus>
                                        <ObjectStatus
                                            text="{reqModel>status}"
                                            state="{
                                                path: 'reqModel>status',
                                                formatter: '.f.statusText'
                                            }"
                                        />
                                    </firstStatus>
                                    <attributes>
                                        <ObjectAttribute text="Created {
                                            path: 'reqModel>createdAt',
                                            formatter: '.f.dateFormat'
                                        }" />
                                    </attributes>
                                </ObjectListItem>
                            </items>
                        </List>
                    </Page>
                </fcl:beginColumnPages>
                <!-- Detail Page -->
                <fcl:midColumnPages>
                    <!-- <IllustratedMessage
                            visible="{= ${empData>/tableData}.length === 0 ? true : false}"
                            illustrationSize="Auto"
                            illustrationType="sapIllus-NoActivities"
                            title="No Record Found"
                            description="Please use the filters above to view monthly punch-in and punch-out details for employees."
                        visible="{= ${empData>/tableData}.length !== 0 ? true : false}"
                        /> -->
                    <Page
                        backgroundDesign="Solid"
                        showHeader="false"
                    >
                        <!-- <headerContent>
                            <OverflowToolbar>
                                <OverflowToolbarButton
                                    type="Transparent"
                                    icon="sap-icon://full-screen"
                                    press="handleFullScreen"
                                    tooltip="Enter Full Screen Mode"
                                    visible="{viewModel>/isFullScreen}"
                                />
                                <OverflowToolbarButton
                                    type="Transparent"
                                    icon="sap-icon://exit-full-screen"
                                    press="handleFullScreen"
                                    tooltip="Exit Full Screen Mode"
                                    visible="{= ${viewModel>/isFullScreen} ? false : true}"
                                />
                            </OverflowToolbar>
                        </headerContent> -->
                        <content>
                            <table:Table
                                id="idTable"
                                selectionMode="None"
                                rows="{empData>/tableData}"
                                visibleRowCount="12"
                            >
                                <table:extension>
                                    <OverflowToolbar>
                                        <Title text="{= 'Total Employee (' + ${empData>/tableData}.length + ')'}" />
                                        <Label
                                            text="Supplier Phone:"
                                            design="Bold"
                                        />
                                        <Text text="{empData>/tableData/0/SupplierPhone}" />
                                        <Label
                                            text="Suplier Contract Number:"
                                            design="Bold"
                                        />
                                        <Text text="{empData>/tableData/0/SupplierContractNum}" />
                                        <ToolbarSpacer />
                                        <OverflowToolbarButton
                                            type="Transparent"
                                            icon="sap-icon://full-screen"
                                            press="handleFullScreen"
                                            tooltip="Enter Full Screen Mode"
                                            visible="{viewModel>/isFullScreen}"
                                        />
                                        <OverflowToolbarButton
                                            type="Transparent"
                                            icon="sap-icon://exit-full-screen"
                                            press="handleFullScreen"
                                            tooltip="Exit Full Screen Mode"
                                            visible="{= ${viewModel>/isFullScreen} ? false : true}"
                                        />
                                    </OverflowToolbar>
                                </table:extension>
                                <table:columns>
                                    <table:Column width="4rem">
                                        <Label text="Site ID" />
                                        <table:template>
                                            <Text text="{empData>Site_SiteId}" />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="4rem">
                                        <Label text="Emp Id" />
                                        <table:template>
                                            <Text text="{empData>employeeId}" />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="4rem">
                                        <Label text="Emp Id" />
                                        <table:template>
                                            <Text text="{empData>ShiftType}" />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 1" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d1}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 2" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d2}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 3" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d3}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 4" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d4}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 5" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d5}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 6" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d6}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 7" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d7}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 8" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d8}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 9" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d9}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 10" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d10}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 11" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d11}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 12" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d12}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 13" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d13}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 14" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d14}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 15" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d15}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 16" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d16}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 17" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d17}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 18" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d18}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 19" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d19}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 20" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d20}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 21" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d21}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 22" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d22}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 23" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d23}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 24" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d24}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 25" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d25}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 26" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d26}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 27" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d27}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 28" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d28}"
                                                editable="{fieldChange>/inputFields}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 29" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d29}"
                                                editable="{fieldChange>/inputFields}"
                                                enabled="{= ${empData>d29} ? true : false}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 30" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d30}"
                                                editable="{fieldChange>/inputFields}"
                                                enabled="{= ${empData>d30} ? true : false}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Day 31" />
                                        <table:template>
                                            <Input
                                                change="onDInputChange"
                                                value="{empData>d31}"
                                                editable="{fieldChange>/inputFields}"
                                                enabled="{= ${empData>d31} ? true : false}"
                                            />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="5rem">
                                        <Label text="Rate Per Hour" />
                                        <table:template>
                                            <Text text="{empData>RatePerHour}" />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="6rem">
                                        <Label text="Total Hours" />
                                        <table:template>
                                            <Text text="{empData>totalHours}" />
                                        </table:template>
                                    </table:Column>
                                    <table:Column width="8rem">
                                        <Label text="Total Cost" />
                                        <table:template>
                                            <Text text="{empData>totalCost}" />
                                        </table:template>
                                    </table:Column>
                                </table:columns>
                            </table:Table>
                            <form:SimpleForm
                                emptySpanL="6"
                                id="idSimpleForm"
                                editable="true"
                            >
                                <form:content>
                                    <Label
                                        text="Vendor Email Id"
                                        visible="{= ${empData>/steps} === '99' || ${empData>/steps} === '0' ? false : true}"
                                    />
                                    <Input
                                        visible="{= ${empData>/steps} === '99' || ${empData>/steps} === '0' ? false : true}"
                                        type="Email"
                                        value="{empData>/vendorEmail}"
                                    />
                                </form:content>
                            </form:SimpleForm>
                            <FeedInput
                                placeholder="Please Enter the comment"
                                icon="sap-icon://comment"
                                class="sapUiSmallMarginTop"
                                id="idFeedInput"
                            />
                            <List
                                showSeparators="Inner"
                                items="{
                                    path: 'empData>/histories',
                                    sorter: {
                                        path: 'createdAt',
                                        descending: true
                                    }
                                }"
                                growing="true"
                                growingThreshold="5"
                            >
                                <FeedListItem
                                    sender="{empData>processedBy}"
                                    info="{empData>processedId}"
                                    icon="sap-icon://customer"
                                    timestamp="{empData>actionDate}"
                                    text="{empData>comments}"
                                    convertLinksToAnchorTags="All"
                                />
                            </List>
                        </content>
                        <footer>
                            <OverflowToolbar
                                visible="{= ${empData>/}.length === 0 ? false : true}"
                                id="idCreateRequestButton"
                            >
                                <ToolbarSpacer />
                                <Button
                                    press="onReturnButton"
                                    type="Attention"
                                    class="sapUiTinyMargin"
                                    icon="sap-icon://undo"
                                    text="Return"
                                />
                                <Button
                                    visible="{= ${empData>/steps} !== '99' ? true : false}"
                                    text="Approve"
                                    type="Accept"
                                    press="onApproveButton"
                                    class="sapUiTinyMargin"
                                    ariaHasPopup="Dialog"
                                />
                                <Button
                                    visible="{= ${empData>/steps} === '99' ? true : false}"
                                    text="Vendor Confirmation"
                                    type="Success"
                                    press="onApproveButton"
                                    class="sapUiTinyMargin"
                                    ariaHasPopup="Dialog"
                                />
                                <!-- <Button
                                    press="onRejectButton"
                                    type="Reject"
                                    class="sapUiTinyMargin"
                                    text="Reject"
                                /> -->
                            </OverflowToolbar>
                        </footer>
                    </Page>
                </fcl:midColumnPages>
            </fcl:FlexibleColumnLayout>
        </content>
    </Page>
</mvc:View>
