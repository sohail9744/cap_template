<mvc:View
    controllerName="wisys.frontend.app.requestForm.Home"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    displayBlock="true"
    height="100%"
    busyIndicatorDelay="0"
    xmlns:f="sap.ui.layout.form"
    xmlns:table="sap.ui.table"
    xmlns:core="sap.ui.core"
>
    <Page
        showHeader="false"
        backgroundDesign="Solid"
    >
        <content>
            <IconTabBar class="sapUiResponsiveContentPadding">
                <items>
                    <IconTabFilter
                        key="tab1"
                        text="Request"
                        icon="sap-icon://form"
                    >
                        <f:SimpleForm
                            editable="true"
                            layout="ResponsiveGridLayout"
                            title=""
                            labelSpanXL="4"
                            labelSpanL="4"
                            labelSpanM="4"
                            labelSpanS="12"
                            adjustLabelSpan="false"
                            emptySpanXL="0"
                            emptySpanL="0"
                            emptySpanM="0"
                            emptySpanS="0"
                            columnsXL="2"
                            columnsL="2"
                            columnsM="2"
                            singleContainerFullSize="false"
                        >
                            <f:content>
                                <core:Title />
                                <Label
                                    design="Bold"
                                    text="Request Date"
                                />
                                <Text text="{
                                    path: 'myRequest>/createdAt',
                                    formatter: '.f.dateFormat'
                                }" />
                                <Label
                                    design="Bold"
                                    text="Site"
                                />
                                <Text text="{myRequest>/site/SiteName}" />
                                <Label
                                    design="Bold"
                                    text="Status"
                                />
                                <!-- <Text text="{myRequest>/statusDisplay}" /> -->
                                <ObjectStatus
                                    text="{myRequest>/statusDisplay}"
                                    icon="{
                                        path: 'myRequest>/status',
                                        formatter: '.f.iconFormat'
                                    }"
                                    inverted="true"
                                    state="{
                                        path: 'myRequest>/statusDisplay',
                                        formatter: '.f.statusFormat'
                                    }"
                                />
                                <Label
                                    design="Bold"
                                    text="Supplier Code"
                                />
                                <Text text="{myRequest>/supplierCode}" />
                                <core:Title />
                                <Label
                                    design="Bold"
                                    text="Supplier Name"
                                />
                                <Text text="{myRequest>/supplierName}" />
                                <Label
                                    design="Bold"
                                    text="Month"
                                />
                                <Text text="{myRequest>/month}" />
                                <Label
                                    design="Bold"
                                    text="Year"
                                />
                                <Text text="{myRequest>/year}" />
                            </f:content>
                        </f:SimpleForm>
                        <table:Table
                            id="idTable"
                            visible="{= ${myRequest>/tableData}.length === 0 ? false : true}"
                            visibleRowCount="9"
                            selectionMode="None"
                            rows="{myRequest>/tableData}"
                        >
                            <table:extension>
                                <OverflowToolbar>
                                    <Title
                                        id="title"
                                        text="{= 'Total Employee (' + ${myRequest>/tableData}.length + ')'}"
                                    />
                                </OverflowToolbar>
                            </table:extension>
                            <table:columns>
                                <table:Column width="6rem">
                                    <Label text="Supplier Phone" />
                                    <table:template>
                                        <Text text="{myRequest>SupplierPhone}" />
                                    </table:template>
                                </table:Column>
                                <table:Column width="8rem">
                                    <Label text="Supplier Contract No" />
                                    <table:template>
                                        <Text text="{myRequest>SupplierContractNum}" />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Site ID" />
                                    <table:template>
                                        <Text text="{myRequest>Site_SiteId}" />
                                    </table:template>
                                </table:Column>
                                <table:Column width="4rem">
                                    <Label text="Emp Id" />
                                    <table:template>
                                        <Text text="{myRequest>employeeId}" />
                                    </table:template>
                                </table:Column>
                                <!-- <table:Column width="8rem">
                        <Label text="Iqamah Number" />
                        <table:template>
                            <Text text="{myRequest>iqamahNo}" />
                        </table:template>
                    </table:Column>
                    <table:Column width="6rem">
                        <Label text="Emp Name" />
                        <table:template>
                            <Text text="{myRequest>DateOfBirth}" />
                        </table:template>
                    </table:Column>
                    <table:Column width="5rem">
                        <Label text="Position" />
                        <table:template>
                            <Text text="{myRequest>position}" />
                        </table:template>
                    </table:Column> -->
                                <table:Column width="5rem">
                                    <Label text="Rate Per Hour" />
                                    <table:template>
                                        <Text text="{myRequest>RatePerHour}" />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 1" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d1}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 2" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d2}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 3" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d3}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 4" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d4}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 5" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d5}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 6" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d6}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 7" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d7}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 8" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d8}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 9" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d9}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 10" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d10}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 11" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d11}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 12" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d12}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 13" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d13}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 14" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d14}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 15" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d15}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 16" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d16}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 17" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d17}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 18" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d18}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 19" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d19}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 20" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d20}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 21" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d21}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 22" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d22}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 23" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d23}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 24" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d24}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 25" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d25}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 26" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d26}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 27" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d27}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 28" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d28}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 29" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d29}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 30" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d30}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="5rem">
                                    <Label text="Day 31" />
                                    <table:template>
                                        <Text
                                            change="onDInputChange"
                                            text="{myRequest>d31}"
                                        />
                                    </table:template>
                                </table:Column>
                                <table:Column width="6rem">
                                    <Label text="Total Hours" />
                                    <table:template>
                                        <Text text="{myRequest>totalHours}" />
                                    </table:template>
                                </table:Column>
                                <table:Column width="8rem">
                                    <Label text="Total Cost" />
                                    <table:template>
                                        <Text text="{myRequest>totalCost}" />
                                    </table:template>
                                </table:Column>
                            </table:columns>
                        </table:Table>
                    </IconTabFilter>
                    <IconTabFilter
                        key="tab2"
                        text="History"
                        icon="sap-icon://customer-history"
                    >
                        <Table
                            items="{
                                path: 'myRequest>/histories',
                                sorter: {
                                    path: 'createdAt',
                                    descending: true
                                }
                            }"
                            mode="SingleSelectMaster"
                            selectionChange="onTaskRowSelect"
                        >
                            <columns>
                                <Column
                                    minScreenWidth="Tablet"
                                    demandPopin="true"
                                >
                                    <Text text="Date" />
                                </Column>
                                <Column
                                    minScreenWidth="Tablet"
                                    demandPopin="true"
                                >
                                    <Text text="Action by" />
                                </Column>
                                <Column
                                    minScreenWidth="Tablet"
                                    demandPopin="true"
                                >
                                    <Text text="Status" />
                                </Column>
                                <Column
                                    minScreenWidth="Tablet"
                                    demandPopin="true"
                                >
                                    <Text text="Comments" />
                                </Column>
                                <Column
                                    minScreenWidth="Tablet"
                                    demandPopin="true"
                                >
                                    <Text text="Assign To" />
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem
                                    navigated="true"
                                    vAlign="Middle"
                                    press="onTaskRowSelect"
                                >
                                    <cells>
                                        <Text text="{
                                            path: 'myRequest>createdAt',
                                            formatter: '.f.dateFormat'
                                        }" />
                                        <Text text="{myRequest>processedBy}" />
                                        <ObjectStatus
                                            text="{myRequest>action}"
                                            icon="{
                                                path: 'myRequest>action',
                                                formatter: '.f.iconFormat'
                                            }"
                                            inverted="true"
                                            state="{
                                                path: 'myRequest>action',
                                                formatter: '.f.statusFormat'
                                            }"
                                        />
                                        <Text text="{myRequest>comments}" />
                                        <ObjectStatus
                                            text="{myRequest>status}"
                                            icon="{
                                                path: 'myRequest>status',
                                                formatter: '.f.iconFormat'
                                            }"
                                            inverted="true"
                                            state="{
                                                path: 'myRequest>status',
                                                formatter: '.f.statusFormat'
                                            }"
                                        />
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </IconTabFilter>
                </items>
            </IconTabBar>
        </content>
    </Page>
</mvc:View>