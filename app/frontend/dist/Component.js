"use strict";sap.ui.define(["sap/ui/core/UIComponent","./model/models","./env"],function(e,t,o){"use strict";const s=t["createDeviceModel"];const i=o["getConfidentialInfo"];const n=e.extend("wisys.frontend.Component",{metadata:{manifest:"json"},init:function t(){this._loadScripts();e.prototype.init.call(this);const o=this.getRouter();o.initialize();this._logRouteName(o);this.setModel(s(),"device")},_loadScripts:function e(){const t=["https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.15/jspdf.plugin.autotable.min.js","https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js","https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.8.0/jszip.js","https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.8.0/xlsx.js"];t.forEach(e=>{const t=document.createElement("script");t.src=e;document.head.appendChild(t)})},_logRouteName:function e(t){const o=this;const s=i();const n=this.getModel("userModel");this.oDataModel=this?.getModel();t.attachRouteMatched(function(e){try{const i=e.getParameter("name");let a=sap.ushell.Container?.getService("UserInfo")?.getEmail();if(s.production===false){a=s.mockEmail}if(!a){return Promise.resolve(t.navTo("RouteError"))}const r=a?.includes("@")?a.split("@")[0].toString():a.toString();let c=JSON.stringify(parseInt(r));n.setProperty("/userId",c);const l={reports:true,create:true,settings:true,analytics:true};n.setProperty("/auth",l);const u=o?.getModel("navList");const p=[{title:"Home",icon:"sap-icon://home",key:"RouteHome"},{title:"Time Sheet",icon:"sap-icon://end-user-experience-monitoring",key:"RouteAttendance"},{title:"My Task",icon:"sap-icon://activity-assigned-to-goal",key:"RouteMyTask"},{title:"Employees",icon:"sap-icon://employee",key:"RouteDashboard"},{title:"Request Status",icon:"sap-icon://step",key:"RouteRequestStatus"}];if(l?.create){p.push({title:"Add Employee",icon:"sap-icon://add",key:"RouteEmployee"},{title:"Bulk Upload",icon:"sap-icon://upload-to-cloud",key:"RouteBulkUpload"})}if(l?.settings){p.push({title:"Settings",icon:"sap-icon://action-settings",key:"RouteSetting",items:[{title:"Workflow Approvers",icon:"sap-icon://people-connected",key:"RouteApprover"},{title:"Master Data",icon:"sap-icon://database",key:"RouteMasterData"},{title:"Reassign request",icon:"sap-icon://citizen-connect",key:"RouteReassign"}]})}u?.setProperty("/navigation",p);const d=n.getProperty("/auth");if(i==="RouteSettings"&&!d?.settings||i==="RouteApprover"&&!d?.settings||i==="RouteMasterData"&&!d?.settings||i==="RouteReassign"&&!d?.settings){return Promise.resolve(t.navTo("RouteError"))}if(i==="RouteBulkUpload"&&!d?.create){return Promise.resolve(t.navTo("RouteError"))}return Promise.resolve()}catch(e){return Promise.reject(e)}})}});return n});
//# sourceMappingURL=Component.js.map